<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Lighting Designer 2D (PWA)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="theme-color" content="#05060a" />

  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="style.css" />

  <!-- iOS PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
</head>
<body>
  <div id="app">
    <header class="topbar">
      <div class="topbar-left">
        <h1>Lighting Designer 2D</h1>
        <p class="subtitle">Szkic układu świateł na scenie</p>
      </div>

      <div class="topbar-right">
        <label for="projectSelect" class="sr-only">Aktywny projekt</label>
        <select id="projectSelect" class="top-select"></select>
        <button id="newProjectBtn" class="btn small">Nowy</button>
        <button id="deleteProjectBtn" class="btn small danger">Usuń</button>
        <button id="exportImageBtn" class="btn small">Eksport sceny</button>
      </div>
    </header>

    <main class="layout">
      <aside class="sidebar">
        <!-- Paleta świateł -->
        <section class="palette-section">
          <h2>Paleta świateł</h2>
          <p class="helper">Wybierz typ i kliknij „Dodaj”.</p>
          <div class="palette-row">
            <select id="elementSelect"></select>
            <button id="addElementBtn" class="btn primary small">Dodaj</button>
          </div>
        </section>

        <!-- Wybrane światło -->
        <section class="properties-section">
          <div id="propertiesPanel" class="properties">
            <div class="properties-grid">
              <div class="panel" id="propertiesPanel">
                <h2>Wybrane światło</h2>

                <div class="prop-row">
                  <span class="prop-label">Typ</span>
                  <span id="propType">–</span>
                </div>

                <div class="prop-row">
                  <label class="prop-label" for="propColor">Kolor</label>
                  <input type="color" id="propColor">
                </div>

                <div class="prop-row">
                  <label class="prop-label" for="propScale">Skala</label>
                  <input type="range" id="propScale" min="0.4" max="2" step="0.01">
                </div>

                <div class="prop-row">
                  <label class="prop-label" for="propBeamScale">Długość wiązki</label>
                  <input type="range" id="propBeamScale" min="0.4" max="2" step="0.01">
                </div>

                  <div class="prop-row">
                    <label class="prop-label" for="propRotation">Obrót</label>
                    <!-- środek suwaka = 0° -->
                    <input type="range" id="propRotation" min="-180" max="180" step="1">
                    <span id="propRotationValue">0°</span>
                  </div>

                <div class="properties-actions">
                  <button id="duplicateElementBtn" class="btn small">Powiel</button>
                <button id="deleteElementBtn" class="btn danger small">Usuń</button>
               </div>
              </div>
          </div>
        </section>
      </aside>

      <section class="canvas-wrapper">
        <canvas id="stageCanvas"></canvas>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
